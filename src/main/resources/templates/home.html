<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{parts/head :: head}"></head>
<body>
<div th:insert="~{parts/navBar::nav}"></div>
<h1 class="text-center">Library Managmement System</h1>

<!--<div class="mb-3">-->
<!--    <form method="get" action="/search" class="d-flex justify-content-center">-->
<!--        <input type="text" name="query" placeholder="Search">-->
<!--        <input type="submit" value="Search">-->
<!--    </form>-->
<!--</div>-->

<div class="container">
    <form method="get" action="/search" >
        <div class="mb-3">
            <label for="searchbar" class="form-label">Search for books</label>
            <input type="text" class="form-control" id="searchbar" name="query">
            <div id="emailHelp" class="form-text">Search by author or title</div>
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

<div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Author</th>
                <th scope="col">Description</th>
                <th scope="col">ISBN</th>
                <th scope="col">Pages</th>
                <th scope="col">Publisher</th>
                <th scope="col">Location</th>
                <th scope="col">Available</th>
            </tr>
        </thead>
        <tbody>
            <th:block th:each="book : ${foundBooks}">
                <tr>
                    <th scope="row" th:text="${book.id}"></th>
                    <td th:text="${book.title}"></td>
                    <td th:text="${book.author}"></td>
                    <td th:text="${book.description}"></td>
                    <td th:text="${book.isbn}"></td>
                    <td th:text="${book.numOfPages}"></td>
                    <td th:text="${book.publisher}"></td>
                    <td th:text="${book.location.location}"></td>

                    <td>
                        <span th:if="${book.available}">Yes</span>
                        <span th:unless="${book.available}">No</span>
                    </td>
                </tr>
            </th:block>
        </tbody>
    </table>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>